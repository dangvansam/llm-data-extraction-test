2025-11-22 12:18:14.163 | INFO     | __main__:main:364 - Categories to process in train: Chinh tri Xa hoi                                                                                                                                                  
2025-11-22 12:18:14.163 | INFO     | __main__:process_split:208 - ======================================================================                                                                                                                   
2025-11-22 12:18:14.163 | INFO     | __main__:process_split:209 - Processing TRAIN split with 1 categories                                                                                                                                                 
2025-11-22 12:18:14.163 | INFO     | __main__:process_split:210 - ======================================================================                                                                                                                   
2025-11-22 12:18:14.163 | INFO     | __main__:process_category:139 - Processing category: Chinh tri Xa hoi (train)                                                                                                                                         
2025-11-22 12:18:14.233 | INFO     | src.services.data_processor:load_articles_from_folder:27 - Found 5219 articles in /data2/samdv/test/data/raw/train/Chinh tri Xa hoi                                                                                   
2025-11-22 12:18:14.233 | WARNING  | src.services.data_processor:load_articles_from_folder:31 - Limiting to 1000 articles for training set                                                                                                                 
LangExtract: model=gemini-2.5-flash, current=647 chars, processed=0 chars:  [00:06]                                                  | 0/1000 [00:00<?, ?it/s]                                                                                             
LangExtract: model=gemini-2.5-flash, current=2,587 chars, processed=0 chars:  [00:08]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=3,421 chars, processed=0 chars:  [00:10]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=723 chars, processed=0 chars:  [00:06]                                        | 2/1000 [00:18<2:21:04,  8.48s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=966 chars, processed=0 chars:  [00:20]                                        | 3/1000 [00:20<1:33:02,  5.60s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=294 chars, processed=0 chars:  [00:03]                                        | 4/1000 [00:27<1:45:10,  6.34s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=814 chars, processed=0 chars:  [00:04]                                        | 5/1000 [00:35<1:49:35,  6.61s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=377 chars, processed=0 chars:  [00:24]                                                                                                                                                                        
LangExtract: model=gemini-2.5-flash, current=2,635 chars, processed=0 chars:  [00:44]                                      | 7/1000 [00:44<1:26:04,  5.20s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=2,225 chars, processed=0 chars:  [00:08]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=936 chars, processed=0 chars:  [01:18]                                        | 9/1000 [01:03<1:51:20,  6.74s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,081 chars, processed=0 chars:  [01:03]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=646 chars, processed=0 chars:  [00:04]                                       | 12/1000 [03:25<7:44:07, 28.19s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=2,113 chars, processed=0 chars:  [00:28]                                     | 13/1000 [03:33<6:01:57, 22.00s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=2,991 chars, processed=0 chars:  [02:18]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=2,628 chars, processed=0 chars:  [04:37]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=8,135 chars, processed=0 chars:  [04:03]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=3,075 chars, processed=0 chars:  [03:11]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=2,660 chars, processed=0 chars:  [00:08]                                    | 14/1000 [06:53<20:45:15, 75.78s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,434 chars, processed=0 chars:  [00:05]                                    | 16/1000 [07:09<11:04:03, 40.49s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=3,913 chars, processed=0 chars:  [00:06]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=538 chars, processed=0 chars:  [00:04]                                       | 18/1000 [07:22<6:12:57, 22.79s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,276 chars, processed=0 chars:  [00:12]                                     | 19/1000 [07:29<4:56:09, 18.11s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=5,164 chars, processed=0 chars:  [00:15]                                     | 20/1000 [07:52<5:19:36, 19.57s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,282 chars, processed=0 chars:  [01:10]                                     | 22/1000 [08:23<4:32:05, 16.69s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,121 chars, processed=0 chars:  [00:06]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=968 chars, processed=0 chars:  [00:05]                                       | 24/1000 [09:27<7:05:43, 26.17s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,586 chars, processed=0 chars:  [00:14]                                     | 25/1000 [09:41<6:04:17, 22.42s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,127 chars, processed=0 chars:  [00:09]                                     | 26/1000 [10:09<6:32:08, 24.16s/it]
LangExtract: model=gemini-2.5-flash, current=4,252 chars, processed=0 chars:  [02:14]                                     | 27/1000 [10:30<6:19:42, 23.42s/it]
LangExtract: model=gemini-2.5-flash, current=1,075 chars, processed=0 chars:  [00:11]                                     | 28/1000 [10:46<5:43:30, 21.20s/it]
LangExtract: model=gemini-2.5-flash, current=1,339 chars, processed=0 chars:  [01:09]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=2,140 chars, processed=0 chars:  [00:09]                                    | 30/1000 [13:34<14:59:03, 55.61s/it]
LangExtract: model=gemini-2.5-flash, current=3,534 chars, processed=0 chars:  [02:05]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=993 chars, processed=0 chars:  [00:04]                                      | 31/1000 [13:53<11:56:17, 44.35s/it]
LangExtract: model=gemini-2.5-flash, current=896 chars, processed=0 chars:  [00:13]                                       | 32/1000 [14:02<9:05:25, 33.81s/it]
LangExtract: model=gemini-2.5-flash, current=1,341 chars, processed=0 chars:  [00:12]                                     | 33/1000 [14:26<8:19:41, 31.00s/it]
LangExtract: model=gemini-2.5-flash, current=2,895 chars, processed=0 chars:  [00:08]                                     | 34/1000 [14:51<7:51:07, 29.26s/it]
LangExtract: model=gemini-2.5-flash, current=1,076 chars, processed=0 chars:  [00:06]                                     | 35/1000 [15:08<6:50:55, 25.55s/it]
LangExtract: model=gemini-2.5-flash, current=751 chars, processed=0 chars:  [00:10]                                       | 36/1000 [15:22<5:54:04, 22.04s/it]
LangExtract: model=gemini-2.5-flash, current=931 chars, processed=0 chars:  [00:12]                                       | 38/1000 [15:40<3:54:28, 14.62s/it]
LangExtract: model=gemini-2.5-flash, current=1,802 chars, processed=0 chars:  [00:14]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=824 chars, processed=0 chars:  [00:05]                                       | 40/1000 [16:09<3:35:59, 13.50s/it]
LangExtract: model=gemini-2.5-flash, current=1,693 chars, processed=0 chars:  [00:15]                                     | 41/1000 [16:21<3:26:08, 12.90s/it]
LangExtract: model=gemini-2.5-flash, current=642 chars, processed=0 chars:  [00:06]0]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=4,167 chars, processed=0 chars:  [07:54]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=441 chars, processed=0 chars:  [00:11]                                       | 43/1000 [16:36<2:37:48,  9.89s/it]
LangExtract: model=gemini-2.5-flash, current=3,142 chars, processed=0 chars:  [00:33]                                     | 44/1000 [16:56<3:23:06, 12.75s/it]
LangExtract: model=gemini-2.5-flash, current=4,934 chars, processed=0 chars:  [00:53]                                     | 46/1000 [17:41<4:20:08, 16.36s/it]
LangExtract: model=gemini-2.5-flash, current=1,914 chars, processed=0 chars:  [00:15]                                     | 47/1000 [18:54<8:49:13, 33.32s/it]
LangExtract: model=gemini-2.5-flash, current=738 chars, processed=0 chars:  [00:06]                                       | 48/1000 [19:25<8:39:00, 32.71s/it]
LangExtract: model=gemini-2.5-flash, current=1,083 chars, processed=0 chars:  [00:05]                                     | 49/1000 [19:39<7:09:22, 27.09s/it]
LangExtract: model=gemini-2.5-flash, current=926 chars, processed=0 chars:  [00:27]                                       | 50/1000 [19:55<6:13:28, 23.59s/it]
LangExtract: model=gemini-2.5-flash, current=1,438 chars, processed=0 chars:  [06:14]█████████████████████████████████▎  | 973/1000 [7:21:15<30:55, 68.73s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,204 chars, processed=0 chars:  [00:13]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=1,215 chars, processed=0 chars:  [00:13]█████████████████████████████████▌  | 975/1000 [7:21:47<17:11, 41.26s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=652 chars, processed=0 chars:  [00:05]3]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=744 chars, processed=0 chars:  [00:06]███████████████████████████████████▋  | 977/1000 [7:22:29<12:16, 32.02s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=589 chars, processed=0 chars:  [00:06]███████████████████████████████████▉  | 979/1000 [7:22:45<06:40, 19.07s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,332 chars, processed=0 chars:  [00:05]██████████████████████████████████  | 980/1000 [7:22:56<05:30, 16.53s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=252 chars, processed=0 chars:  [00:02]████████████████████████████████████▏ | 981/1000 [7:23:06<04:37, 14.63s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,216 chars, processed=0 chars:  [00:37]██████████████████████████████████▏ | 982/1000 [7:23:11<03:30, 11.69s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=642 chars, processed=0 chars:  [00:13]                                                                                                                                                                        
LangExtract: model=gemini-2.5-flash, current=3,607 chars, processed=0 chars:  [00:19]██████████████████████████████████▍ | 984/1000 [7:23:37<03:14, 12.17s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=3,366 chars, processed=0 chars:  [00:14]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=1,202 chars, processed=0 chars:  [00:04]██████████████████████████████████▋ | 987/1000 [7:24:00<01:46,  8.22s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=2,406 chars, processed=0 chars:  [00:07]██████████████████████████████████▊ | 988/1000 [7:24:03<01:20,  6.75s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,364 chars, processed=0 chars:  [00:16]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=1,612 chars, processed=0 chars:  [00:07]███████████████████████████████████ | 990/1000 [7:24:28<01:30,  9.03s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=758 chars, processed=0 chars:  [00:13]0]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=1,235 chars, processed=0 chars:  [00:35]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=4,610 chars, processed=0 chars:  [00:11]███████████████████████████████████▎| 993/1000 [7:24:54<00:54,  7.83s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,870 chars, processed=0 chars:  [00:08]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=2,999 chars, processed=0 chars:  [00:13]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=920 chars, processed=0 chars:  [00:25]█████████████████████████████████████▌| 996/1000 [7:25:24<00:36,  9.23s/it]                                                                                             
LangExtract: model=gemini-2.5-flash, current=1,102 chars, processed=0 chars:  [00:19]                                                                                                                                                                      
LangExtract: model=gemini-2.5-flash, current=2,534 chars, processed=0 chars:  [44:02]███████████████████████████████████▉| 999/1000 [7:29:17<01:09, 69.35s/it]                                                                                             
Chinh tri Xa hoi: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████| 1000/1000 [8:45:25<00:00, 31.53s/it]                                                                                             
2025-11-22 21:03:40.053 | INFO     | __main__:process_category:184 - Processed 1000/1000 articles from Chinh tri Xa hoi                                                                                                                                    
2025-11-22 21:03:40.060 | INFO     | src.services.data_processor:validate_samples:266 - Validated: 1000 valid, 0 invalid samples                                                                                                                           
2025-11-22 21:03:40.095 | INFO     | src.services.data_processor:save_dataset:86 - Saved 1000 samples to /data2/samdv/test/data/processed/train.json                                                                                                       
2025-11-22 21:03:40.121 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 1000 samples to /data2/samdv/test/data/processed/train.jsonl (JSONL)                                                                                               
2025-11-22 21:03:40.155 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 1000 samples to /data2/samdv/test/data/processed/train_finetuning_chat.jsonl (JSONL)                                                                               
2025-11-22 21:03:40.156 | INFO     | src.services.data_processor:export_for_finetuning:314 - Exported 1000 samples in chat format                                                                                                                          
2025-11-22 21:03:40.187 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 1000 samples to /data2/samdv/test/data/processed/train_finetuning_instruction.jsonl (JSONL)                                                                        
2025-11-22 21:03:40.187 | INFO     | src.services.data_processor:export_for_finetuning:314 - Exported 1000 samples in chat format                                                                                                                          
2025-11-22 21:03:40.188 | INFO     | __main__:process_split:261 -                                                                                                                                                                                          
TRAIN Statistics:                                                                                                                                                                                                                                          
2025-11-22 21:03:40.188 | INFO     | __main__:process_split:262 - {                                                                                                                                                                                        
  "total_samples": 1000,                                                                                                                                                                                                                                   
  "samples_with_entities": 991,                                                                                                                                                                                                                            
  "samples_without_entities": 9,                                                                                                                                                                                                                           
  "entity_counts": {                                                                                                                                                                                                                                       
    "person": 2687,                                                                                                                                                                                                                                        
    "organizations": 5642,                                                                                                                                                                                                                                 
    "address": 6283                                                                                                                                                                                                                                        
  },                                                                                                                                                                                                                                                       
  "total_entities": 14612,                                                                                                                                                                                                                                 
  "avg_entities_per_sample": 14.61,                                                                                                                                                                                                                        
  "avg_text_length": 2189.59,                                                                                                                                                                                                                              
  "min_text_length": 253,                                                                                                                                                                                                                                  
  "max_text_length": 49368                                    
}                                                             
2025-11-22 21:03:40.188 | INFO     | __main__:main:364 - Categories to process in test: Chinh tri Xa hoi                                                                                                                                                   
2025-11-22 21:03:40.188 | INFO     | __main__:process_split:208 - ======================================================================
2025-11-22 21:03:40.188 | INFO     | __main__:process_split:209 - Processing TEST split with 1 categories                                                                                                                                                  
2025-11-22 21:03:40.188 | INFO     | __main__:process_split:210 - ======================================================================
2025-11-22 21:03:40.188 | INFO     | __main__:process_category:139 - Processing category: Chinh tri Xa hoi (test)                                                                                                                                          
2025-11-22 21:03:40.237 | INFO     | src.services.data_processor:load_articles_from_folder:27 - Found 7567 articles in /data2/samdv/test/data/raw/test/Chinh tri Xa hoi
2025-11-22 21:03:40.238 | WARNING  | src.services.data_processor:load_articles_from_folder:35 - Limiting to 100 articles for test set
2025-11-22 21:03:40.284 | INFO     | __main__:process_category:149 - Found 100 already processed samples - will skip those
2025-11-22 21:03:40.308 | DEBUG    | __main__:process_single_article:89 - Loaded cached result for XH_VNE_T_ (2860).txt                                                                                                                                    
2025-11-22 21:03:40.309 | DEBUG    | __main__:process_single_article:89 - Loaded cached result for XH_VNE_T_ (5804).txt                                                                                                                                    
Chinh tri Xa hoi: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████| 100/100 [00:00<00:00, 4487.52it/s]
2025-11-22 21:03:40.309 | INFO     | __main__:process_category:184 - Processed 100/100 articles from Chinh tri Xa hoi                                                                                                                                      
2025-11-22 21:03:40.310 | INFO     | src.services.data_processor:validate_samples:266 - Validated: 100 valid, 0 invalid samples                                                                                                                            
2025-11-22 21:03:40.314 | INFO     | src.services.data_processor:save_dataset:86 - Saved 100 samples to /data2/samdv/test/data/processed/test.json
2025-11-22 21:03:40.317 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 100 samples to /data2/samdv/test/data/processed/test.jsonl (JSONL)
2025-11-22 21:03:40.321 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 100 samples to /data2/samdv/test/data/processed/test_finetuning_chat.jsonl (JSONL)
2025-11-22 21:03:40.321 | INFO     | src.services.data_processor:export_for_finetuning:314 - Exported 100 samples in chat format                                                                                                                           
2025-11-22 21:03:40.324 | INFO     | src.services.data_processor:save_jsonl:103 - Saved 100 samples to /data2/samdv/test/data/processed/test_finetuning_instruction.jsonl (JSONL)
2025-11-22 21:03:40.324 | INFO     | src.services.data_processor:export_for_finetuning:314 - Exported 100 samples in chat format                                                                                                                           
2025-11-22 21:03:40.324 | INFO     | __main__:process_split:261 -                                                                                                                                                                                          
TEST Statistics:                                              
2025-11-22 21:03:40.324 | INFO     | __main__:process_split:262 - {                                                                                                                                                                                        
  "total_samples": 100,                                       
  "samples_with_entities": 99,                                
  "samples_without_entities": 1,                              
  "entity_counts": {                                          
    "person": 267,                                            
    "organizations": 513,                                     
    "address": 638                                            
  },                                                          
  "total_entities": 1418,                                     
  "avg_entities_per_sample": 14.18,                           
  "avg_text_length": 2232.77,                                 
  "min_text_length": 274,                                     
  "max_text_length": 8526                                     
}                                                             
2025-11-22 21:03:40.325 | INFO     | __main__:main:385 -                                                                     
Combined statistics saved to: /data2/samdv/test/data/processed/langextract_statistics.json                                                                                                                                                                 
2025-11-22 21:03:40.325 | INFO     | __main__:main:387 -                                                                     
======================================================================                                                                                                                                                                                     
2025-11-22 21:03:40.325 | INFO     | __main__:main:388 - PROCESSING COMPLETE                                                                                                                                                                               
2025-11-22 21:03:40.325 | INFO     | __main__:main:389 - ======================================================================                                                                                                                            
2025-11-22 21:03:40.325 | INFO     | __main__:main:392 -                                                                     
TRAIN:                                                        
2025-11-22 21:03:40.325 | INFO     | __main__:main:393 -   Samples: 1000                                                                                                                                                                                   
2025-11-22 21:03:40.325 | INFO     | __main__:main:394 -   Output files:                                                                                                                                                                                   
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     json: /data2/samdv/test/data/processed/train.json                                                                                                                                             
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     jsonl: /data2/samdv/test/data/processed/train.jsonl                                                                                                                                           
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     finetuning_chat: /data2/samdv/test/data/processed/train_finetuning_chat.jsonl
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     finetuning_instruction: /data2/samdv/test/data/processed/train_finetuning_instruction.jsonl
2025-11-22 21:03:40.325 | INFO     | __main__:main:392 -                                                                     
TEST:                                                         
2025-11-22 21:03:40.325 | INFO     | __main__:main:393 -   Samples: 100                                                                                                                                                                                    
2025-11-22 21:03:40.325 | INFO     | __main__:main:394 -   Output files:                                                                                                                                                                                   
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     json: /data2/samdv/test/data/processed/test.json                                                                                                                                              
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     jsonl: /data2/samdv/test/data/processed/test.jsonl                                                                                                                                            
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     finetuning_chat: /data2/samdv/test/data/processed/test_finetuning_chat.jsonl
2025-11-22 21:03:40.325 | INFO     | __main__:main:396 -     finetuning_instruction: /data2/samdv/test/data/processed/test_finetuning_instruction.jsonl